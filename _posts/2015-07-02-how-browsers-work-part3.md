---
layout: post
title: "(译)浏览器是如何工作之part3-scriptsorder"
---

通常情况，script标签会对html的解析造成堵塞，html的解析过程会等待script执行完成，如果是外链资源的话，还需要先下载资源，然后执行，完成后才会继续html的解析，又因为script的执行中可能需要计算样式，所以script的执行会等待stylesheets加载和解析完成再进行。在ff中，加载和解析stylesheets的时候会阻塞所有的脚本，而webkit只会堵塞需要获取特定样式信息的脚本。

为了在浏览器上尽快的展示文档，可以用defer来标记script，使script的执行延缓至html解析完成后。html5中又增加了一个选项使scripts可以进行异步（另外的线程）执行和解析。

###推理解析
wekbit和ff中用来优化解析的措施，执行脚本的时候，另外的线程会去解析剩下的文档，找出需要额外加载的资源，并发出网络请求进行加载，这样使得网络资源可以使用多个网络请求进行下载，确保更快的下载所有的资源。不过这个解析过程并不会改变DOM的结构，它只处理外链引用的资源。